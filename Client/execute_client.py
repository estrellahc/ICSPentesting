import time
import subprocess

def ejecutar_cliente():
    # Llama al script cliente_asyn.py
    #subprocess.run(["python3", "client_async_calls.py", "-c", "tcp", "-p", "502", "--host", "172.17.0.2"])
    subprocess.run(["python3", "client_async_calls.py", "-c", "tcp", "-p", "502", "--host", "127.0.0.2"])

if __name__ == "__main__":
    while True:
        #Ejecuta el cliente
        ejecutar_cliente()
        print("El cliente se ejecutó. Esperando 30 segundos antes de la próxima ejecución...")
        
        #Espera 1 minuto (60 segundos) antes de ejecutar el cliente nuevamente
        time.sleep(30)
